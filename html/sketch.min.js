document.addEventListener("DOMContentLoaded",(function(){function t(t,e){return Math.floor(e()*t)}function e(){return window.innerHeight>=window.innerWidth?window.innerWidth:window.innerHeight}const n=document.querySelector("main"),o=(parseInt(n.dataset.seed,10),function(t){const e=2147483647;let n=t%e;return()=>(n=16807*n%e,n/e)}(1e5*Math.random()));let l=t(4,o),i=e(),r=e(),y=r/720,a=4==l?20:3==l?40:2==l?60:1==l?80:120,h=[],c=200,u=100,x=t(6,o);var d=5==x?"#524D61":4==x?"#261356":3==x?"#8A63D2":2==x?"#3F1E94":1==x?"#BAB3CD":"#8A63D2";const f=document.createElement("canvas");f.width=i,f.height=r;document.getElementById("c").appendChild(f);const s=f.getContext("2d");function w(t,e,n){return(1-n)*t+n*e}function m(t,e,n,o,l,i,r){return{x:w(w(t,e,r),w(e,n,r),r),y:w(w(o,l,r),w(l,i,r),r)}}function p(t,e,n,o,l){let i=3*(e-t),r=3*(n-e)-i,y=3*(e-t),a=3*(n-e)-y,h=o-t-y-a;return{x:(o-t-i-r)*Math.pow(l,3)+r*Math.pow(l,2)+i*l+t,y:h*Math.pow(l,3)+a*Math.pow(l,2)+y*l+t}}cols=i/(a*y),rows=r/(a*y);let M={x:360*o()*y,y:360*o()*y},g={x:1e3*o()*y,y:1e3*o()*y},v={x:500*o()*y,y:1e3*o()*y+500*y},D={x:1150*o()*y-150*y,y:1e3*o()*y},A={x:1e3*o()*y,y:1e3*o()*y},C={x:1150*o()*y-150*y,y:1e3*o()*y+500*y};for(let t=0;t<=u/3;t++){let e=m(M.x,g.x,v.x,M.y,g.y,v.y,t/(u/3));h.push(e)}for(let t=0;t<=u/3;t++){let e=t/(u/3),n=p(v.x,D.x,A.x,C.x,e),o=p(v.y,D.y,A.y,C.y,e);h.push({x:n,y:o})}for(let t=0;t<=u/3;t++){let e=t/(u/3),n=w(C.x,M.x,e),o=w(C.y,M.y,e);h.push({x:n,y:o})}for(let t=0;t<=u/2;t++){let e=t/(u/2),n=p(v.x,D.x,A.x,C.x,e),o=p(v.y,D.y,A.y,C.y,e);h.push({x:n,y:o})}let E=0;!function t(){E++,function(){s.canvas.width=e(),s.canvas.height=e(),s.fillStyle=d,s.fillRect(0,0,i,r);for(let t=0;t<c;t++){let e=(E-1+t*u/c+h.length)%h.length,n=h[Math.floor(e)],o=Math.floor(n.x/a)*a,l=Math.floor(n.y/a)*a,i=2*t%360;s.fillStyle=`hsl(${i}, 100%, 50%)`,s.fillRect(o+10,l,a,a)}}(),setTimeout((()=>requestAnimationFrame(t)),25)}()}));
