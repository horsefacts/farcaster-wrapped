document.addEventListener("DOMContentLoaded",(function(){function e(){return window.innerHeight>=window.innerWidth?window.innerWidth:window.innerHeight}const t=document.querySelector("main"),n=function(e){const t=2147483647;let n=e%t;return()=>(n=16807*n%t,n/t)}(parseInt(t.dataset.seed,10));let o=function(e,t){return Math.floor(t()*e)}(4,n),y=e(),l=e(),x=l/720,r=4==o?20:3==o?40:2==o?60:1==o?80:120,i=[],a=200,c=100;const u=document.createElement("canvas"),s=document.getElementById("c");s.classList.remove("p"),s.appendChild(u);const h=u.getContext("2d");function f(e,t,n){return(1-n)*e+n*t}function d(e,t,n,o,y,l,x){return{x:f(f(e,t,x),f(t,n,x),x),y:f(f(o,y,x),f(y,l,x),x)}}function w(e,t,n,o,y){let l=3*(t-e),x=3*(n-t)-l,r=3*(t-e),i=3*(n-t)-r,a=o-e-r-i;return{x:(o-e-l-x)*Math.pow(y,3)+x*Math.pow(y,2)+l*y+e,y:a*Math.pow(y,3)+i*Math.pow(y,2)+r*y+e}}cols=y/(r*x),rows=l/(r*x);var p=n(),m=n(),g=n(),v=n(),M=n(),E=n(),L=n(),C=n(),S=n(),q=n(),H=n(),I=n();let R={x:360*p*x,y:360*m*x},W={x:1e3*g*x,y:1e3*v*x},b={x:500*M*x,y:1e3*E*x+500*x},k={x:1150*L*x-150*x,y:1e3*C*x},z={x:1e3*S*x,y:1e3*q*x},A={x:1150*H*x-150*x,y:1e3*I*x+500*x};for(let e=0;e<=c/3;e++){let t=d(R.x,W.x,b.x,R.y,W.y,b.y,e/(c/3));i.push(t)}for(let e=0;e<=c/3;e++){let t=e/(c/3),n=w(b.x,k.x,z.x,A.x,t),o=w(b.y,k.y,z.y,A.y,t);i.push({x:n,y:o})}for(let e=0;e<=c/3;e++){let t=e/(c/3),n=f(A.x,R.x,t),o=f(A.y,R.y,t);i.push({x:n,y:o})}for(let e=0;e<=c/2;e++){let t=e/(c/2),n=w(b.x,k.x,z.x,A.x,t),o=w(b.y,k.y,z.y,A.y,t);i.push({x:n,y:o})}let B=0;window.addEventListener("resize",(function(){y=e(),l=e(),x=l/720,r=o==4*x?20*x:3==o?40*x:2==o?60*x:1==o?80*x:120*x,h.canvas.width=y,h.canvas.height=l;let t={x:360*p*x,y:360*m*x},n={x:1e3*g*x,y:1e3*v*x},a={x:500*M*x,y:1e3*E*x+500*x},u={x:1150*L*x-150*x,y:1e3*C*x},s={x:1e3*S*x,y:1e3*q*x},R={x:1150*H*x-150*x,y:1e3*I*x+500*x};i=[];for(let e=0;e<=c/3;e++){let o=d(t.x,n.x,a.x,t.y,n.y,a.y,e/(c/3));i.push(o)}for(let e=0;e<=c/3;e++){let t=e/(c/3),n=w(a.x,u.x,s.x,R.x,t),o=w(a.y,u.y,s.y,R.y,t);i.push({x:n,y:o})}for(let e=0;e<=c/3;e++){let n=e/(c/3),o=f(R.x,t.x,n),y=f(R.y,t.y,n);i.push({x:o,y:y})}for(let e=0;e<=c/2;e++){let t=e/(c/2),n=w(a.x,u.x,s.x,R.x,t),o=w(a.y,u.y,s.y,R.y,t);i.push({x:n,y:o})}})),function t(){B++,function(){h.canvas.width=e(),h.canvas.height=e(),h.fillStyle=background_color,h.fillRect(0,0,y,l);for(let e=0;e<a;e++){let t=(B-1+e*c/a+i.length)%i.length,n=i[Math.floor(t)],o=Math.floor(n.x/r)*r,y=Math.floor(n.y/r)*r,l=2*e%360;h.fillStyle=`hsl(${l}, 100%, 50%)`,h.fillRect(o+10,y,r,r)}}(),setTimeout((()=>requestAnimationFrame(t)),25)}()}));
